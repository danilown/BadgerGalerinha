# [BadgerGalerinha](https://github.com/danilown/BadgerGalerinha)

The easiest way to get started is to go to [Pimoroni's official tutorial](https://learn.pimoroni.com/article/getting-started-with-badger-2040).

This repository contains mostly customized examples from [Pimoroni's Pico repository](https://github.com/pimoroni/pimoroni-pico), which can be found more specifically under `/micropython/examples/badger2040`.

## Getting Started

0. Install [Thonny](https://thonny.org/) to be able to easily interact with the board.

1. Put the Badger into bootloader mode by plugging it into the computer through the USB port while holding down its BOOT button. The Badger will mount as a drive named RPI-RP2 on your computer.

2. Copy the firmware to the Badger as described in the [Firmware section](#Firmware) and in [Pimoroni's official tutorial](https://learn.pimoroni.com/article/getting-started-with-badger-2040).

3. Using [Thonny](https://thonny.org/), copy **all** files and folders from the `/src` folder into the Badger. Select the items one by one while holding CTRL (or Command) and when you've selected all, just click with the right mouse button and select "Upload to /".

4. Have Fun!

## Customizing the Badger

For the text, you just need to edit the `/badger_data/badge.txt` file and change what you want.

If you want finer control, you can edit the `badge.py` file under the `/src` directory.

> **FYI**: The version running on your Badger was slightly modified.

For the image:

0. The image must be exactly **104 pixels in width and 128 pixels in height**.
1. Convert your image to the `.bin` format that the Badger can interpret with the command: `python3 convert.py --binary badge-image.png`. You can find this script in the `/utils` folder.
   > Be sure that you have Pil installed in your environment: `pip3 install pillow`.
2. Be sure to place the newly generated image in the `/badger_data` folder in the Badger internal storage.

## Firmware

To be able to program the Badger, you'll need the correct version of the micropython interpreter [here](https://github.com/pimoroni/pimoroni-pico/releases).

> the release being used in this repository is [v1.19.6](https://github.com/pimoroni/pimoroni-pico/releases/tag/v1.19.6).

Note that you have to choose the correct build for the Badge. The naming schema seems to not be fixed yet, but you should choose the one that looks something like `pimoroni-badger2040-v1.19.6-micropython.uf2`.

## Badger API

The API provided by Pimoroni is basically to control the e-ink display.

You will probably will come around statements like:

```python
badger = badger2040.Badger2040()
```

or

```python
display = badger2040.Badger2040()
```

All functions are decently documented at Pimoroni's repository [here](https://github.com/pimoroni/pimoroni-pico/tree/main/micropython/modules/badger2040).

## The problem with the official release

> and how it was solved

Release v1.19.6 seams to have some bugs with the Badger.

First, the `launchericons` module (more specifically, the `launchericons.py` file) is missing. According to [Issue 262](https://github.com/pimoroni/pimoroni-pico/issues/262) it should be a built-in module, but it is not.

Having a look at previous releases, this module is autogenerated from the `launchericons.png` file (located under `/micropython/examples/badger2040/assets/` in the original repository) using the `data_to_py.py` script. In this repository, it is found under `/utils/data_to_py.py`. In a few words, it will convert the image file into an importable Python module.

> In Pimoroni's repository, the `data_to_py.py` script can be found under `/examples/badger2040/image_converter/`.

So, in this repository this was exactly done and already included.

Now the problem is that the icons are corrupted. To solve this, the older version ([v1.18.2](https://github.com/pimoroni/pimoroni-pico/releases/tag/1.18.2), to be precise) of the `launchericons.py` file.
